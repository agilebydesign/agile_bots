<!DOCTYPE html>
<html>
<head>
    <title>Instructions Rendering Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1e1e1e; color: #d4d4d4; }
        .section { margin: 20px 0; padding: 15px; border: 1px solid #404040; border-radius: 4px; }
        .section-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; color: #ff8c00; }
        .collapsible-section { margin-bottom: 8px; }
        .collapsible-header { 
            cursor: pointer; 
            padding: 8px 10px; 
            background-color: transparent; 
            border-radius: 2px; 
            display: flex; 
            align-items: center; 
        }
        .collapsible-content { padding: 10px; margin-left: 15px; }
        .expanded .expand-icon::before { content: '‚ñº'; }
        .expand-icon::before { content: '‚ñ∂'; }
    </style>
</head>
<body>
    <h1>üìù Instruction Properties Rendering Test</h1>
    
    <div class="section">
        <div class="section-title">Test Data Structure</div>
        <pre id="testData"></pre>
    </div>
    
    <div class="section">
        <div class="section-title">Rendered Output</div>
        <div id="renderedOutput"></div>
    </div>
    
    <script src="html_renderer.js"></script>
    <script>
        // Test data with behavior_instructions and action_instructions
        const testInstructions = {
            behavior_instructions: {
                name: "shape",
                description: "Outline a story map made up of epics, sub-epics, and stories",
                instructions: [
                    "create the initial outline of a story map."
                ]
            },
            action_instructions: {
                name: "clarify",
                description: "Gather context by asking required questions and collecting evidence in order to increase understanding",
                instructions: [
                    "Gather context for story mapping"
                ]
            },
            base_instructions: [
                "**Look for context in the following locations:**",
                "- in this message and chat history",
                "- in `C:/dev/augmented-teams/agile_bot/bots/base_bot/docs/context/`",
                "- generated files in `C:/dev/augmented-teams/agile_bot/bots/base_bot/docs/stories/`",
                "",
                "Review all provided context, then for each required question below, thoughtfully answer it by thoroughly examining the context provided."
            ],
            clarification: {
                shape: {
                    key_questions: {
                        answers: {
                            "Who are the users?": "Developers and AI agents"
                        }
                    }
                }
            }
        };
        
        // Display test data
        document.getElementById('testData').textContent = JSON.stringify(testInstructions, null, 2);
        
        // Render using HTMLRenderer
        const renderer = new HTMLRenderer();
        const renderedHtml = renderer.renderInstructions(testInstructions);
        document.getElementById('renderedOutput').innerHTML = renderedHtml;
        
        // Add toggle functionality
        window.toggleSection = function(sectionId) {
            const content = document.getElementById(sectionId);
            const section = content.parentElement;
            if (content.style.display === 'none') {
                content.style.display = 'block';
                section.classList.add('expanded');
            } else {
                content.style.display = 'none';
                section.classList.remove('expanded');
            }
        };
    </script>
</body>
</html>




































































































































































