{
  "matched_count": 19,
  "new_stories": [
    {
      "name": "**WHEN** Developer selects story in Panel scope section\n**AND** Developer clicks Trace Story button\n**THEN** Trace Editor opens\n**AND** Trace Editor displays story name in header\n**AND** Trace Editor displays users section with actor list\n**AND** Trace Editor displays acceptance criteria section",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer modifies story name field\n**AND** Developer triggers save (blur or Ctrl+S)\n**THEN** Trace Editor saves changes to story data\n**AND** Trace Editor preserves story structure\n**AND** Trace Editor shows save confirmation indicator",
      "parent": "Trace Story"
    },
    {
      "name": "WHEN User clicks graph link\nTHEN System opens story-graph.json in editor",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** story has no acceptance criteria\n**THEN** Trace Editor displays empty acceptance criteria section",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer modifies acceptance criteria text\n**THEN** Trace Editor saves changes on blur",
      "parent": "Trace Story"
    },
    {
      "name": "WHEN User clicks map link\nTHEN System opens story-map.drawio in diagram viewer",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer clicks Open button on story header\n**THEN** Trace Editor opens story source file\n**AND** Editor navigates to story name line",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer adds user to users list\n**THEN** Trace Editor inserts new user entry\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Story"
    },
    {
      "name": "WHEN System cannot open file\nTHEN System displays error message",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** story source file not found\n**THEN** Trace Editor shows file not found error\n**BUT** does not crash",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer removes user from users list\n**THEN** Trace Editor removes user entry\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer clicks Open while file already open\n**THEN** Editor focuses existing tab\n**AND** Editor navigates to story line",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer modifies user name\n**THEN** Trace Editor updates user entry on blur",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer enters duplicate user name\n**THEN** Trace Editor shows validation warning\n**BUT** allows save (duplicates permitted)",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** Developer enters invalid data\n**THEN** Trace Editor shows validation error\n**BUT** does not save invalid data",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** save operation fails\n**THEN** Trace Editor shows error indicator\n**AND** Trace Editor preserves user edits in editor",
      "parent": "Trace Story"
    },
    {
      "name": "**WHEN** story is displayed in Trace Editor\n**AND** story has scenarios\n**THEN** Trace Editor displays scenarios section with scenario items\n**AND** Trace Editor displays nested scenarios as expandable items",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer modifies scenario step text\n**AND** Developer triggers save (blur or Ctrl+S)\n**THEN** Trace Editor saves changes to story data\n**AND** Trace Editor preserves scenario structure",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Open button on scenario\n**THEN** Trace Editor opens story source file\n**AND** Editor navigates to scenario line",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer views scenario with examples\n**THEN** Trace Editor displays examples as editable table\n**AND** Trace Editor displays column headers from example data\n**AND** Trace Editor displays rows with example values",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Add Examples\n**THEN** Trace Editor creates a new examples table\n**AND** Trace Editor inserts the table into the examples collection\n**AND** Trace Editor focuses the first cell of the new table",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Add Row button on examples table\n**THEN** Trace Editor inserts new row at end of table\n**AND** Trace Editor populates row with empty cells matching columns\n**AND** Trace Editor focuses first cell in new row",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks on example cell\n**THEN** Trace Editor activates inline editor on cell\n**AND** Trace Editor selects existing cell content",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** story has no scenarios\n**THEN** Trace Editor displays empty scenarios section\n**BUT** does not show error",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer adds new step to scenario\n**THEN** Trace Editor inserts step in appropriate section",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** scenario line not found in file\n**THEN** Trace Editor opens file at story location\n**AND** Trace Editor shows line not found warning",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** scenario has no examples\n**THEN** Trace Editor shows empty examples section with Add Example button\n**BUT** does not show table headers",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer removes an examples table\n**THEN** Trace Editor removes the selected table from the collection\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer presses Enter on last row\n**THEN** Trace Editor inserts new row below current row",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer modifies cell content and triggers save\n**THEN** Trace Editor updates cell value\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks expand on scenario item\n**THEN** Trace Editor displays scenario details inline",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clears step text\n**THEN** Trace Editor removes empty step on save",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Open while file already open\n**THEN** Editor focuses existing tab\n**AND** Editor navigates to scenario line",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** example table has many rows\n**THEN** Trace Editor displays scrollable table\n**AND** Trace Editor keeps headers visible while scrolling",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer removes the last examples table\n**THEN** Trace Editor shows an empty examples section\n**BUT** does not remove the examples collection container",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** table has no columns yet\n**THEN** Trace Editor prompts Developer to add column first\n**BUT** does not insert empty row",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer enters longer cell content\n**THEN** Trace Editor expands cell width to fit roughly 7-12 words\n**AND** Trace Editor grows cell height for content beyond that",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer views scenario in trace editor\n**THEN** Trace Editor displays Given steps section\n**AND** Trace Editor displays When steps section\n**AND** Trace Editor displays Then steps section",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** save fails\n**THEN** Trace Editor shows error indicator\n**BUT** preserves user edits",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** save operation fails during add or remove\n**THEN** Trace Editor shows error indicator\n**BUT** preserves current state",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Delete button on example row\n**THEN** Trace Editor removes row from table\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer presses Tab in cell\n**THEN** Trace Editor saves current cell\n**AND** Trace Editor moves focus to next cell in row",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** scenario has no Given steps\n**THEN** Trace Editor omits Given section\n**BUT** displays When and Then sections",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer removes last row\n**THEN** Trace Editor displays empty table with headers\n**BUT** does not remove column structure",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer presses Enter in cell\n**THEN** Trace Editor saves current cell\n**AND** Trace Editor moves focus to cell below",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** scenario step contains multiple lines\n**THEN** Trace Editor displays step with preserved formatting",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer confirms row deletion\n**THEN** Trace Editor removes row immediately\n**BUT** does not prompt for single row deletion",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer presses Escape in cell\n**THEN** Trace Editor reverts cell to previous value\n**BUT** does not save changes",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Add Column button\n**THEN** Trace Editor displays column name input dialog",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer enters column name and confirms\n**THEN** Trace Editor adds new column to table\n**AND** Trace Editor adds empty cell to each existing row\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer enters duplicate column name\n**THEN** Trace Editor shows validation error\n**BUT** does not add duplicate column",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer cancels column dialog\n**THEN** Trace Editor closes dialog\n**BUT** does not modify table",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clicks Delete on column header\n**THEN** Trace Editor shows confirmation dialog\n**AND** Dialog warns that column data will be lost",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer confirms column deletion\n**THEN** Trace Editor removes column from table\n**AND** Trace Editor removes column data from all rows\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer removes last column\n**THEN** Trace Editor removes all example data\n**AND** Trace Editor shows empty examples section",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer cancels deletion\n**THEN** Trace Editor preserves column and data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer double-clicks column header\n**THEN** Trace Editor displays inline text editor on header",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer modifies header text and saves\n**THEN** Trace Editor updates column name\n**AND** Trace Editor saves changes to story data",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer enters duplicate column name\n**THEN** Trace Editor shows validation error\n**BUT** does not save duplicate name",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer clears header text\n**THEN** Trace Editor shows validation error\n**BUT** does not allow empty column name",
      "parent": "Trace Scenario"
    },
    {
      "name": "**WHEN** Developer views scenario with linked test\n**THEN** Trace Editor parses test method for function/method calls\n**AND** Trace Editor follows each call to find implementation in workspace\n**AND** Trace Editor builds call hierarchy from test to implementation code",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Trace Editor displays code trace\n**THEN** Trace Editor expands hierarchy by default\n**AND** Trace Editor displays code snippet in editable box for each node\n**AND** Trace Editor shows line numbers beside code",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Open button on code node\n**THEN** Editor opens source file\n**AND** Editor navigates to specific line number",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks on method call within code box\n**THEN** Trace Editor navigates to code box for that method\n**AND** Trace Editor scrolls hierarchy to show target node\n**AND** Trace Editor highlights target code box",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Trace Editor builds hierarchy\n**THEN** Trace Editor displays test method as root node\n**AND** Trace Editor displays called functions/methods as child nodes\n**AND** Trace Editor recursively traces calls within each implementation\n**AND** Trace Editor expands hierarchy to 3 levels by default",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer modifies code in edit box\n**AND** Developer triggers save (blur or Ctrl+S)\n**THEN** Trace Editor saves changes to source file\n**AND** Trace Editor shows save confirmation indicator",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Open on test node\n**THEN** Editor opens test file\n**AND** Editor navigates to test method line",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks on property access within code box\n**THEN** Trace Editor navigates to code box for that property",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Trace Editor displays code box for node\n**THEN** code box shows symbol name (class.method or function name)\n**AND** code box shows file path and line number\n**AND** code box shows source code with syntax highlighting\n**AND** code box shows line numbers beside code",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer modifies test code\n**THEN** Trace Editor saves changes to test file",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** source file not found\n**THEN** Trace Editor shows file not found error\n**BUT** does not crash",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks on nested method/property call\n**THEN** Trace Editor expands parent nodes if collapsed\n**AND** Trace Editor navigates to nested code box",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** hierarchy exceeds 3 levels\n**THEN** Trace Editor shows collapsed nodes beyond level 3\n**AND** Trace Editor lazy-loads deeper levels on expand",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer modifies implementation code\n**THEN** Trace Editor saves changes to code file",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** line number exceeds file length\n**THEN** Editor opens file at end\n**AND** Trace Editor shows line not found warning",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** clicked method/property not in trace hierarchy\n**THEN** Trace Editor shows \"Not traced\" indicator\n**BUT** does not navigate",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** call target not found in workspace\n**THEN** Trace Editor skips external/library calls\n**BUT** continues tracing other calls",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** save operation fails\n**THEN** Trace Editor shows error indicator\n**BUT** preserves user edits in edit box",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Open while file already open\n**THEN** Editor focuses existing tab\n**AND** Editor navigates to line",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer expands code node\n**THEN** Trace Editor lazy-loads source code for node\n**AND** Trace Editor displays code with line numbers\n**AND** Trace Editor shows loading indicator during fetch",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** scenario has no linked test\n**THEN** Trace Editor shows \"No test linked\" indicator\n**BUT** does not show error",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer presses Escape in edit box\n**THEN** Trace Editor reverts to previous value\n**BUT** does not save changes",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer collapses previously expanded node\n**THEN** Trace Editor hides code snippet\n**BUT** preserves loaded content in memory",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** linked test file not found\n**THEN** Trace Editor shows test reference with warning indicator\n**BUT** still renders trace UI structure",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Expand All button\n**THEN** Trace Editor expands entire hierarchy\n**BUT** does not auto-load code snippets",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** test method has no calls\n**THEN** Trace Editor displays empty code trace section",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Collapse All button\n**THEN** Trace Editor collapses entire hierarchy",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** call tree exceeds depth limit\n**THEN** Trace Editor truncates at maximum depth\n**AND** Trace Editor shows truncation indicator",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer clicks Toggle Code button\n**THEN** Trace Editor shows/hides code for all expanded nodes",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** Developer hovers over code node\n**THEN** Trace Editor shows full path tooltip",
      "parent": "Trace Code"
    },
    {
      "name": "**WHEN** source file not found during lazy load\n**THEN** Trace Editor shows file not found message in node\n**BUT** does not collapse node",
      "parent": "Trace Code"
    }
  ]
}