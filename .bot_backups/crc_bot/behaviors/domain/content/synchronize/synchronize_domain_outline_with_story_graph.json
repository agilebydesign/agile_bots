{
  "name": "synchronize_domain_outline_with_story_graph",
  "description": "Synchronize domain_outline.md with story graph domain_concepts. AI reads domain outline, identifies domain concepts and responsibilities, and updates domain_concepts arrays in story-graph.json.",
  "templates": [
    "templates/domain_outline.md"
  ],
  "instructions": [
    "1. User provides domain_outline.md (domain concepts and responsibilities)",
    "2. AI reads both domain_outline.md and story-graph.json",
    "3. AI parses domain outline format:",
    "   - {concept} with {responsibility}: {collaborator},{collaborator},...",
    "   - {concept} : {base_class} with {responsibility}: {collaborator},{collaborator},... (for inheritance)",
    "4. AI compares domain concepts with domain_concepts arrays in story-graph.json, identifying:",
    "   - New domain concepts in domain_outline.md",
    "   - Updated responsibilities or collaborators",
    "   - Inheritance relationships (concept : base_class)",
    "   - Removed domain concepts (in story graph but not in domain outline)",
    "   - Domain concept placement (local vs global) based on relevance to epics/sub_epics",
    "5. AI generates a report showing all differences",
    "6. AI proposes specific changes to domain_concepts arrays in story-graph.json",
    "7. User reviews and approves changes",
    "8. AI updates story-graph.json domain_concepts arrays preserving placement logic",
    "9. For concepts with inheritance, AI updates inherits_from field in story-graph.json",
    "",
    "**DOMAIN OUTLINE FORMAT:** See templates/domain_outline.md for format rules",
    "**INHERITANCE NOTATION:** Concept : BaseClass indicates concept inherits from BaseClass"
  ]
}

